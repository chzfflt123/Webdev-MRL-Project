<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/public/stylesheets/stylesheet1.css">
    <title>Disease Detector</title>
    <style>
        form {
        background-color: #ffffff;
        width: 300px;
        height: 44px;
        border-radius: 5px;
        display: flex;
        flex-direction: row;
        align-items: center;
        }
        input {
            all: unset;
            font: 16px system-ui;
            color: #7a7a7a;
            height: 100%;
            width: 100%;
            padding: 6px 10px;
        }
    </style>


</head>
<body>
    

    <nav class="teal darken-1">
        <div class="nav-wrapper">
            <a href="/" class="brand-logo">
                <i class="material-icons left">local_hospital</i>
                Disease Detector
            </a>
            <a href ="/" class = "sidenav-trigger">
                <i class = "material-icons">local_hospital</i>
            </a>
            <!-- a is for hyperlink -->
            <!-- ul for unordered list -->
            <!-- li for list items -->
            <ul class="right">
                <li>
                    <a href="/">
                        <i class="material-icons left">home</i>
                        Home
                    </a>
                </li>
                <li>
                    <a href="/intro">
                        <i class="material-icons left">person_add</i>
                        New Diagnosis
                    </a>
                </li>
                <li class="active">
                    <a href="/database">
                        <i class="material-icons left">people</i>
                        Database
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class = "container">
        <h4>Database 
            <form id="form"> 
                <input id="searchbar" type="text" name="search" placeholder="Search...">
                <a class="btn-floating btn-small waves-effect waves-light">
                    <i class="material-icons">search</i>
                </a>
            </form>
        </h4>

        <table>
            <thead>
              <tr>
                  <th></th>
                  <th>Last Name</th>
                  <th>Middle Initial</th>
                  <th>First Name</th>
                  <th>Age</th>
                  <th>Gender</th>
                  <th>Weight(kg)</th>
                  <th>Height(cm)</th>
                  <th>Date of Birth</th>
                  <th> </th>
              </tr>
            </thead>
            <tbody id="patientTableBody">
              <% patient.forEach((patient) => { %>
                <tr>
                  <td>
                      <a class="btn-floating btn-small waves-effect waves-light red modal-trigger" href="#inform">
                          <i class="material-icons">info</i>
                      </a>
                  </td>
                  <td>
                    <label>
                      <span><%= patient.name_last %></span>
                    </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.middle_initial %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.name_first %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.age %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.gender %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.weight %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.height %></span>
                      </label>
                  </td>
                  <td>
                      <label>
                        <span><%= patient.dob %></span>
                      </label>
                  </td>
                  <td>
                    <a class = "waves-effect waves-light btn-small orange modal-trigger" href="/database/details">
                      <i class="material-icons right">edit</i>Edit
                    </a>
                    <td>
                        <a class="btn-large waves-effect waves-light red right modal-trigger delete-btn"
                            href="/database/<%= patient.patient_id %>/delete" data-patient-id="<%= patient.patient_id %>">
                            <i class="material-icons right">delete</i>Delete
                        </a>
                    </td>
                    
                    
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        <div class = "section">
            
        </div>
        <p1>To add a new row, you have to take a new diagnosis test</p1>

    </div>



    

    <div class="modal" id ="edit">
        <div class="modal-content">
            <h4>Confirm delete?</h4>
            <p>You cannot restore data once it is deleted.</p>
        </div>
        <div class="modal-footer">
            <a class="waves-effect waves-light btn-small red modal-trigger" href="/database/<%= patient.patient_id %>/delete">
                <i class="material-icons right">delete_forever</i>Delete
            </a>
            
            
        </div>   
    </div>

    <script>
        
    </script>

    <div class="modal" id="inform">
        <!-- This should be different for each patient -->
        <div class="modal-content">
            <h4>Disease Data</h4>
            <table>
                <thead>
                    <tr>
                        <th>Patient Name</th>
                        <th>Symptoms</th>
                        <th>Disease ID</th>
                        <th>Disease</th>  
                        <th>Updated Risks</th>  
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ekmekci, Anna Y</td>
                        <td>Sore throat, sleepy</td>
                        <td>029384</td>
                        <td>Hard-workingness</td>
                        <td>Piano Contest in Summer</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <a class = "waves-effect waves-light btn-small red modal-trigger" href="/database">Confirm</a>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>M.AutoInit();</script>
    

</body>
</html>

<!-- hi -->